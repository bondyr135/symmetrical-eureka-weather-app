(this["webpackJsonpkadabra-weather"]=this["webpackJsonpkadabra-weather"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(27),r=n.n(c),s=(n(90),n(44)),i=n(14),o=(n(91),n(9)),u=n(15),l=n(148),h=n(147),j=n(149),p=(n(96),n(2));function d(){var e=Object(u.c)((function(e){return e.currentCity})),t=Object(i.f)(),n=Object(a.useState)(t.location.pathname),c=Object(o.a)(n,2),r=c[0],s=c[1];console.log(r),console.log("history: ",t),Object(a.useEffect)((function(){s(t.location.pathname)}),[e]);return Object(p.jsxs)("header",{className:"header-comp",children:[Object(p.jsx)(l.a,{variant:"h3",className:"logo",children:"So how's the weather?"}),Object(p.jsxs)(h.a,{className:"btn-group",color:"primary",value:[r],onChange:function(e){e.preventDefault();var n=e.target.value;console.log("routing target: ",n),s(n),n.endsWith("favorites")?t.push(n):t.replace(""),console.log("history now: ",t)},children:[Object(p.jsx)(j.a,{value:"/",className:"btn home-btn",disabled:!r.includes("favorites"),style:{fontSize:"20px"},children:"Home"}),Object(p.jsx)(j.a,{value:"/favorites",className:"btn favorites-btn",disabled:r.includes("favorites"),style:{fontSize:"18px"},children:"Favorites"})]})]})}var f=n(24),m=n.n(f),b=n(34),y=function(e){return{type:"SET_CURRENT_CITY",payload:{name:e.name,key:e.key,currentWeather:e.weather,currentTemp:e.temp}}},O=function(e){return{type:"OPEN_MODAL",payload:{msg:e}}},v=n(143);n(103);function x(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.modal}));return Object(p.jsx)(v.a,{open:t.open,className:"actual-modal",onClose:function(){e({type:"CLOSE_MODAL"})},children:Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsx)(l.a,{variant:"h5",sx:{lineHeight:"190%",fontWeight:"600",fontSize:"26px"},children:t.msg})})})}var g=n(150),k=n(145),w=n(151),N=n(74),T=n.n(N),S=(n(104),"U21HLUzqUAASTSnfvQJK7jnIyBeVfzGA"),E="https://dataservice.accuweather.com";function C(){Object(u.c)((function(e){return e.currentCity}));var e=Object(u.b)(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=function(){var t=Object(b.a)(m.a.mark((function t(){var n,a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={},t.next=4,fetch(E+"/locations/v1/cities/autocomplete?apikey=".concat(S,"&q=").concat(c));case 4:return a=t.sent,console.log(a),t.next=8,a.json();case 8:return(r=t.sent)!==[]&&(n.name=r[0].LocalizedName,n.key=r[0].Key),t.abrupt("return",n);case 13:t.prev=13,t.t0=t.catch(0),e(O("Something went wrong with the search... \n Are you sure of your spelling?"));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(b.a)(m.a.mark((function t(n){var a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(E+"/currentconditions/v1/".concat(n.key,"?apikey=").concat(S,"&metric=true"));case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,n.weather=c[0].WeatherText,n.temp=Math.round(c[0].Temperature.Metric.Value),e(y(n)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e(O("Something went wrong with the search... \n Are you sure of your spelling?"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return t=e.sent,e.next=5,i(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:13!==t.keyCode&&"click"!==t.type||(t.preventDefault(),""!==c&&(l(),r("")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("oresentedString: ",""),Object(p.jsxs)(g.a,{className:"search-comp",sx:{width:"250px"},children:[Object(p.jsx)(k.a,{variant:"filled",sx:{width:"100%"},className:"search-input",placeholder:"Type a city's name...",onChange:function(e){var t=e.target.value,n=t.charCodeAt(t.length-1);65<=n&&n<=90||97<=n&&n<=122||32===n||(t=t.slice(0,-1)),r(t)},value:c,onKeyDown:h,color:"primary"}),Object(p.jsx)(w.a,{sx:{p:"10px"},onClick:h,children:Object(p.jsx)(T.a,{})}),"",Object(p.jsx)(x,{})]})}var _=n(154),D=n(152),A=n(153);n(105);function I(e){var t=e.day;return Object(p.jsx)(D.a,{className:"forcast_card",children:Object(p.jsxs)(A.a,{className:"forcast-content",children:[Object(p.jsx)(l.a,{variant:"h4",className:"day-details",children:t.dayOfWeek}),Object(p.jsxs)(l.a,{variant:"h5",className:"day-details temp",children:[t.maxTemp,Object(p.jsx)("span",{children:"\xb0"}),"-",t.minTemp,Object(p.jsx)("span",{children:"\xb0"})]})]})})}var L=n(75),M=n.n(L),V=n(76),R=n.n(V);n(106);function W(e){var t=e.isCityDisplayed,n=Object(u.b)(),c=Object(u.c)((function(e){return e.currentCity})),r=Object(u.c)((function(e){return e.favorites})),s=Object(a.useState)(r.findIndex((function(e){return e.key===c.key}))>-1),i=Object(o.a)(s,2),l=i[0],h=i[1];Object(a.useEffect)((function(){var e=r.findIndex((function(e){return e.key===c.key}));h(e>-1)}),[c,l]);var j=function(){var e;l?n({type:"REMOVE_FAVORITE",payload:{name:(e=c).name,key:e.key}}):10===r.length?n(O("One can only have so much love... 10 cities are plenty")):n(function(e){return{type:"ADD_FAVORITE",payload:{name:e.name,key:e.key,currentWeather:e.currentWeather,currentTemp:e.currentTemp}}}(c)),h(!l)};return t?Object(p.jsx)("div",{className:"like-unit-comp",children:l?Object(p.jsx)(M.a,{sx:{fontSize:"54px"},className:"heart-icon like",onClick:j}):Object(p.jsx)(R.a,{sx:{fontSize:"54px"},className:"heart-icon unlike",onClick:j})}):null}n(107);var F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],z="https://dataservice.accuweather.com",U="U21HLUzqUAASTSnfvQJK7jnIyBeVfzGA";function J(){var e=Object(u.c)((function(e){return e.currentCity})),t=e.currentTemp,n=e.currentWeather,c=e.name,r=e.key,s=Object(u.b)(),i=Object(a.useState)([]),h=Object(o.a)(i,2),j=h[0],d=h[1];return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(z+"/forecasts/v1/daily/5day/".concat(r,"?apikey=").concat(U,"&metric=true"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=n.DailyForecasts.map((function(e){return{dayOfWeek:F[new Date(e.Date).getDay()],maxTemp:Math.round(e.Temperature.Maximum.Value),minTemp:Math.round(e.Temperature.Minimum.Value)}})),d(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error in forecast"),s(O("Something went wrong with fetching this city's forecast... Just stay home!"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(p.jsxs)(_.a,{className:"weather-display",children:[Object(p.jsxs)("div",{className:"display-top",children:[t&&Object(p.jsx)(D.a,{className:"current-weather-card",children:Object(p.jsxs)(A.a,{className:"current-weather-content",children:[Object(p.jsx)(l.a,{variant:"h5",className:"current-weather-detail",children:n}),Object(p.jsxs)(l.a,{variant:"h5",className:"current-weather-detail",children:[t,Object(p.jsx)("span",{children:"\xb0"})]})]})}),t?Object(p.jsx)(l.a,{className:"city-name",variant:"h3",children:c}):Object(p.jsx)(l.a,{className:"city-name city-err",variant:"h3",children:"Sorry, something went wrong..."}),Object(p.jsx)(W,{className:"city-like",isCityDisplayed:!!t})]}),Object(p.jsx)("div",{className:"display-bottom",children:j.map((function(e,t){return Object(p.jsx)(I,{day:e},e.dayOfWeek)}))})]})}n(108);function B(){return Object(p.jsxs)("main",{className:"home-comp",children:[Object(p.jsx)(C,{className:"search-in-home"}),Object(p.jsx)(J,{className:"weather-display-in-home"})]})}n(109);function H(){var e=Object(u.b)(),t=Object(i.f)(),n=Object(u.c)((function(e){return e.favorites}));return Object(p.jsx)(_.a,{className:"favorites-comp",children:Object(p.jsx)(g.a,{className:"favorites-group",sx:{backgroundColor:"#f5f5f5"},children:n.map((function(n){return Object(p.jsx)(D.a,{value:n.key,onClick:function(){return function(n){var a={key:n.key,name:n.name};e(y(a)),t.replace("/")}(n)},className:"faved-city-card",children:Object(p.jsxs)(A.a,{className:"faved-city-content",children:[Object(p.jsx)(l.a,{className:"faved-city city-name",variant:"h4",children:n.name}),Object(p.jsxs)(l.a,{className:"faved-city city-temp",variant:"h5",children:[n.currentTemp,Object(p.jsx)("span",{children:"\xb0"})]}),Object(p.jsx)(l.a,{className:"faved-city city-weather",variant:"h5",children:n.currentWeather})]})},n.name)}))})})}var K=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(s.a,{basename:"".concat("/symmetrical-eureka-weather-app/"),children:[Object(p.jsx)(d,{className:"app-header"}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/",component:B}),Object(p.jsx)(i.a,{exact:!0,path:"/favorites",component:H})]})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,155)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},X=n(50),q={name:"Tel Aviv",key:"215854"},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_CITY"===t.type?t.payload:e},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return e.every((function(e){return e.key!==t.payload.key}))&&e.push(t.payload),e;case"REMOVE_FAVORITE":var n=e.filter((function(e){return e.key!==t.payload.key}));return n;default:return e}},Y={open:!1,msg:""},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return{open:!0,msg:t.payload.msg};case"CLOSE_MODAL":return{open:!1,msg:""};default:return e}},$=Object(X.a)({favorites:Q,currentCity:G,modal:Z}),ee=Object(X.b)($,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(p.jsx)(u.a,{store:ee,children:Object(p.jsx)(K,{})}),document.getElementById("root")),P()},90:function(e,t,n){},91:function(e,t,n){},96:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.6bf8ed3a.chunk.js.map