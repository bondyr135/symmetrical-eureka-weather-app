(this["webpackJsonpkadabra-weather"]=this["webpackJsonpkadabra-weather"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(27),r=n.n(c),s=(n(90),n(44)),i=n(14),o=(n(91),n(9)),u=n(15),l=n(148),h=n(147),p=n(149),j=(n(96),n(2)),f="/symmetrical-eureka-weather-app";function m(){var e=Object(u.c)((function(e){return e.currentCity})),t=Object(i.f)(),n=Object(a.useState)(t.location.pathname),c=Object(o.a)(n,2),r=c[0],s=c[1];console.log(r),Object(a.useEffect)((function(){s(t.location.pathname)}),[e]);return Object(j.jsxs)("header",{className:"header-comp",children:[Object(j.jsx)(l.a,{variant:"h3",className:"logo",children:"So how's the weather?"}),Object(j.jsxs)(h.a,{className:"btn-group",color:"primary",value:"favorites"===r?f:"".concat(f,"/favorites"),onChange:function(e){e.preventDefault();var n=e.target.value;s(n),"favorites"===n?t.replace(f+n):t.replace(f)},children:[Object(j.jsx)(p.a,{value:"/",className:"btn home-btn",disabled:"favorites"!==r,style:{fontSize:"20px"},children:"Home"}),Object(j.jsx)(p.a,{value:"favorites",className:"btn favorites-btn",disabled:"favorites"===r,style:{fontSize:"18px"},children:"Favorites"})]})]})}var d=n(24),b=n.n(d),y=n(34),O=function(e){return{type:"SET_CURRENT_CITY",payload:{name:e.name,key:e.key,currentWeather:e.weather,currentTemp:e.temp}}},v=function(e){return{type:"OPEN_MODAL",payload:{msg:e}}},x=n(143);n(103);function k(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.modal}));return Object(j.jsx)(x.a,{open:t.open,className:"actual-modal",onClose:function(){e({type:"CLOSE_MODAL"})},children:Object(j.jsx)("div",{className:"modal-body",children:Object(j.jsx)(l.a,{variant:"h5",sx:{lineHeight:"190%",fontWeight:"600",fontSize:"26px"},children:t.msg})})})}var w=n(150),g=n(145),N=n(151),T=n(74),E=n.n(T),S=(n(104),"U21HLUzqUAASTSnfvQJK7jnIyBeVfzGA"),C="http://dataservice.accuweather.com";function _(){var e=Object(u.c)((function(e){return e.currentCity})),t=Object(u.b)(),n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1],i=function(){var e=Object(y.a)(b.a.mark((function e(){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={},e.next=4,fetch(C+"/locations/v1/cities/autocomplete?apikey=".concat(S,"&q=").concat(r));case 4:return a=e.sent,console.log(a),e.next=8,a.json();case 8:return(c=e.sent)!==[]&&(n.name=c[0].LocalizedName,n.key=c[0].Key),e.abrupt("return",n);case 13:e.prev=13,e.t0=e.catch(0),t(v("Something went wrong with the search... \n Are you sure of your spelling?"));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(y.a)(b.a.mark((function e(n){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(C+"/currentconditions/v1/".concat(n.key,"?apikey=").concat(S,"&metric=true"));case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,n.weather=c[0].WeatherText,n.temp=Math.round(c[0].Temperature.Metric.Value),t(O(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(v("Something went wrong with the search... \n Are you sure of your spelling?"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return t=e.sent,e.next=5,l(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l(e)}),[]);var p=function(){var e=Object(y.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:13!==t.keyCode&&"click"!==t.type||(t.preventDefault(),""!==r&&(h(),s("")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(w.a,{className:"search-comp",sx:{width:"250px"},children:[Object(j.jsx)(g.a,{variant:"filled",sx:{width:"100%"},className:"search-input",placeholder:"Type a city's name...",onChange:function(e){var t=e.target.value,n=t.charCodeAt(t.length-1);65<=n&&n<=90||97<=n&&n<=122||32===n||(t=t.slice(0,-1)),s(t)},value:r,onKeyDown:p,color:"primary"}),Object(j.jsx)(N.a,{sx:{p:"10px"},onClick:p,children:Object(j.jsx)(E.a,{})}),"",Object(j.jsx)(k,{})]})}var D=n(154),A=n(152),I=n(153);n(105);function L(e){var t=e.day;return Object(j.jsx)(A.a,{className:"forcast_card",children:Object(j.jsxs)(I.a,{className:"forcast-content",children:[Object(j.jsx)(l.a,{variant:"h4",className:"day-details",children:t.dayOfWeek}),Object(j.jsxs)(l.a,{variant:"h5",className:"day-details temp",children:[t.maxTemp,Object(j.jsx)("span",{children:"\xb0"}),"-",t.minTemp,Object(j.jsx)("span",{children:"\xb0"})]})]})})}var M=n(75),V=n.n(M),R=n(76),F=n.n(R);n(106);function W(e){var t=e.isCityDisplayed,n=Object(u.b)(),c=Object(u.c)((function(e){return e.currentCity})),r=Object(u.c)((function(e){return e.favorites})),s=Object(a.useState)(r.findIndex((function(e){return e.key===c.key}))>-1),i=Object(o.a)(s,2),l=i[0],h=i[1];Object(a.useEffect)((function(){var e=r.findIndex((function(e){return e.key===c.key}));h(e>-1)}),[c,l]);var p=function(){var e;l?n({type:"REMOVE_FAVORITE",payload:{name:(e=c).name,key:e.key}}):10===r.length?n(v("One can only have so much love... 10 cities are plenty")):n(function(e){return{type:"ADD_FAVORITE",payload:{name:e.name,key:e.key,currentWeather:e.currentWeather,currentTemp:e.currentTemp}}}(c)),h(!l)};return t?Object(j.jsx)("div",{className:"like-unit-comp",children:l?Object(j.jsx)(V.a,{sx:{fontSize:"54px"},className:"heart-icon like",onClick:p}):Object(j.jsx)(F.a,{sx:{fontSize:"54px"},className:"heart-icon unlike",onClick:p})}):null}n(107);var z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U="http://dataservice.accuweather.com",J="U21HLUzqUAASTSnfvQJK7jnIyBeVfzGA";function B(){var e=Object(u.c)((function(e){return e.currentCity})),t=e.currentTemp,n=e.currentWeather,c=e.name,r=e.key,s=Object(u.b)(),i=Object(a.useState)([]),h=Object(o.a)(i,2),p=h[0],f=h[1];return Object(a.useEffect)((function(){function e(){return(e=Object(y.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(U+"/forecasts/v1/daily/5day/".concat(r,"?apikey=").concat(J,"&metric=true"));case 3:return t=e.sent,console.log(t),e.next=7,t.json();case 7:n=e.sent,console.log(n),a=n.DailyForecasts.map((function(e){return{dayOfWeek:z[new Date(e.Date).getDay()],maxTemp:Math.round(e.Temperature.Maximum.Value),minTemp:Math.round(e.Temperature.Minimum.Value)}})),f(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error in forecast"),s(v("Something went wrong with fetching this city's forecast... Just stay home!"));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(j.jsxs)(D.a,{className:"weather-display",children:[Object(j.jsxs)("div",{className:"display-top",children:[t&&Object(j.jsx)(A.a,{className:"current-weather-card",children:Object(j.jsxs)(I.a,{className:"current-weather-content",children:[Object(j.jsx)(l.a,{variant:"h5",className:"current-weather-detail",children:n}),Object(j.jsxs)(l.a,{variant:"h5",className:"current-weather-detail",children:[t,Object(j.jsx)("span",{children:"\xb0"})]})]})}),t?Object(j.jsx)(l.a,{className:"city-name",variant:"h3",children:c}):Object(j.jsx)(l.a,{className:"city-name city-err",variant:"h3",children:"Sorry, something went wrong..."}),Object(j.jsx)(W,{className:"city-like",isCityDisplayed:!!t})]}),Object(j.jsx)("div",{className:"display-bottom",children:p.map((function(e,t){return Object(j.jsx)(L,{day:e},e.dayOfWeek)}))})]})}n(108);function H(){return Object(j.jsxs)("main",{className:"home-comp",children:[Object(j.jsx)(_,{className:"search-in-home"}),Object(j.jsx)(B,{className:"weather-display-in-home"})]})}n(109);function K(){var e=Object(u.b)(),t=Object(i.f)(),n=Object(u.c)((function(e){return e.favorites}));return Object(j.jsx)(D.a,{className:"favorites-comp",children:Object(j.jsx)(w.a,{className:"favorites-group",sx:{backgroundColor:"#f5f5f5"},children:n.map((function(n){return Object(j.jsx)(A.a,{value:n.key,onClick:function(){return function(n){var a={key:n.key,name:n.name};e(O(a)),t.replace("/")}(n)},className:"faved-city-card",children:Object(j.jsxs)(I.a,{className:"faved-city-content",children:[Object(j.jsx)(l.a,{className:"faved-city city-name",variant:"h4",children:n.name}),Object(j.jsxs)(l.a,{className:"faved-city city-temp",variant:"h5",children:[n.currentTemp,Object(j.jsx)("span",{children:"\xb0"})]}),Object(j.jsx)(l.a,{className:"faved-city city-weather",variant:"h5",children:n.currentWeather})]})},n.name)}))})})}var P=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(s.a,{children:[Object(j.jsx)(m,{className:"app-header"}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"".concat("https://github.com/bondyr135","/symmetrical-eureka-weather-app"),component:H}),Object(j.jsx)(i.a,{exact:!0,path:"".concat("https://github.com/bondyr135","/symmetrical-eureka-weather-app/favorites"),component:K})]})]})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,155)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},q=n(50),G={name:"Tel Aviv",key:"215854"},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_CITY"===t.type?t.payload:e},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return e.every((function(e){return e.key!==t.payload.key}))&&e.push(t.payload),e;case"REMOVE_FAVORITE":var n=e.filter((function(e){return e.key!==t.payload.key}));return n;default:return e}},Z={open:!1,msg:""},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return{open:!0,msg:t.payload.msg};case"CLOSE_MODAL":return{open:!1,msg:""};default:return e}},ee=Object(q.a)({favorites:Y,currentCity:Q,modal:$}),te=Object(q.b)(ee,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(j.jsx)(u.a,{store:te,children:Object(j.jsx)(P,{})}),document.getElementById("root")),X()},90:function(e,t,n){},91:function(e,t,n){},96:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.168445d2.chunk.js.map