{"version":3,"sources":["Components/Header/Header.js","actions/index.js","Components/ErrorModal/ErrorModal.js","Components/MainComp/SearchBar/SearchBar.js","Components/MainComp/ForcastDay/ForcastDay.js","Components/MainComp/LikesUnit/LikesUnit.js","Components/MainComp/WeatherDisplay/WeatherDisplay.js","Components/MainComp/Home/Home.js","Components/FaveComp/Favorites/Favorites.js","App.js","reportWebVitals.js","reducers/currentCity.js","reducers/favorites.js","reducers/modal.js","reducers/reducersIndex.js","index.js"],"names":["Header","currCity","useSelector","state","currentCity","history","useHistory","useState","location","pathname","page","setPage","useEffect","className","Typography","variant","ToggleButtonGroup","color","value","onChange","e","preventDefault","routingTarget","target","endsWith","push","replace","ToggleButton","disabled","includes","style","fontSize","city","type","payload","name","key","currentWeather","weather","currentTemp","temp","openModal","reason","msg","ErrorModal","dispatch","useDispatch","isModalOpen","modal","Modal","open","onClose","sx","API_KEY","process","BASE_URL","SearchBar","defaultCity","searchString","setSearchString","getCityKey","a","fetch","searchResponse","json","dsearchData","LocalizedName","Key","getCityCurrentWeather","weatherResponse","weatherData","WeatherText","Math","round","Temperature","Metric","Value","getCityInfo","keyPressed","keyCode","Paper","width","InputBase","placeholder","ascii","charCodeAt","length","slice","onKeyDown","IconButton","p","onClick","ForcastDay","day","Card","CardContent","dayOfWeek","maxTemp","minTemp","LikesUnit","isCityDisplayed","savedFavs","favorites","findIndex","isLiked","setIsLiked","didLikeChange","toggleLike","addFavorite","DAY_OF_WEEK","SERVICE_URL","WeatherDisplay","forecast","setForecast","forecastResponse","forecastData","parsedForecast","DailyForecasts","map","Date","getDay","Maximum","Minimum","console","log","fetchForecast","Box","i","Home","Favorites","favedCities","chosenCity","choseFavorite","App","basename","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","currentCityReducer","action","favoritesReducer","every","filteredState","filter","modalReducer","rootReducer","combineReducers","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1b39ca0c.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { Typography, ToggleButtonGroup, ToggleButton } from '@mui/material';\r\n\r\nimport './Header.css';\r\n\r\nexport default function Header() {\r\n\r\n  const currCity = useSelector(state => state.currentCity)\r\n  const history = useHistory();\r\n  const [page, setPage] = useState(history.location.pathname);\r\n\r\n\r\n  // Used to update toggle button's disabled option when routing using a click on a favored city in the favorites component\r\n  useEffect(() => {\r\n    setPage(history.location.pathname)\r\n  }, [currCity]);\r\n\r\n\r\n  // On toggling the buttons, event is fired, toggling respectively between routes\r\n  const handleRouting = (e) => {\r\n    e.preventDefault();\r\n    const routingTarget = e.target.value;\r\n    setPage(routingTarget);\r\n    if (routingTarget.endsWith('favorites')) {\r\n      history.push(routingTarget); // Actual change of route\r\n    } else {\r\n      history.replace(''); // Actual change of route\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <header className='header-comp'>\r\n      <Typography variant='h3' className='logo'>So how's the weather?</Typography>\r\n      <ToggleButtonGroup\r\n        className='btn-group'\r\n        color='primary'\r\n        value={[page]}\r\n        onChange={handleRouting}>\r\n        <ToggleButton value='/' className=\"btn home-btn\" disabled={!page.includes('favorites')} style={{ fontSize: '20px' }}>\r\n          Home\r\n        </ToggleButton>\r\n        <ToggleButton value='/favorites' className=\"btn favorites-btn\" disabled={page.includes('favorites')} style={{ fontSize: '18px' }}>\r\n          Favorites\r\n        </ToggleButton>\r\n      </ToggleButtonGroup>\r\n    </header>\r\n  )\r\n}\r\n","// import currentCityReducer from \"../reducers/currentCity\"\r\n\r\nexport const addFavorite = (city) => {\r\n  return {\r\n    type: 'ADD_FAVORITE',\r\n    payload: {\r\n      name: city.name,\r\n      key: city.key,\r\n      currentWeather: city.currentWeather,\r\n      currentTemp: city.currentTemp\r\n    }\r\n  }\r\n}\r\n\r\nexport const removeFavorite = (city) => {\r\n  return {\r\n    type: 'REMOVE_FAVORITE',\r\n    payload: {\r\n      name: city.name,\r\n      key: city.key\r\n    }\r\n  }\r\n}\r\n\r\nexport const currentCity = (city) => {\r\n  return {\r\n    type: 'SET_CURRENT_CITY',\r\n    payload: {\r\n      name: city.name,\r\n      key: city.key,\r\n      currentWeather: city.weather,\r\n      currentTemp: city.temp\r\n    }\r\n  }\r\n}\r\n\r\nexport const openModal = (reason) => {\r\n  return {\r\n    type: 'OPEN_MODAL',\r\n    payload: {\r\n      msg: reason\r\n    }\r\n  }\r\n}\r\n\r\nexport const closeModal = () => {\r\n  return {\r\n    type: 'CLOSE_MODAL'\r\n  }\r\n}","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { closeModal } from '../../actions/index'\r\n\r\nimport Modal from '@mui/material/Modal';\r\nimport { Typography } from '@mui/material';\r\n\r\nimport './ErrorModal.css';\r\n\r\nexport default function ErrorModal() {\r\n  const dispatch = useDispatch();\r\n  const isModalOpen = useSelector(state => state.modal);\r\n\r\n  const closingModal = () => {\r\n    dispatch(closeModal())\r\n  };\r\n\r\n\r\n  return (\r\n    <Modal open={isModalOpen.open} className=\"actual-modal\" onClose={closingModal} >\r\n      <div className='modal-body'>\r\n        {/* {modalMessage.map(line => { */}\r\n        <Typography variant='h5' sx={{ \"lineHeight\": \"190%\", \"fontWeight\": \"600\", \"fontSize\": \"26px\" }}>{isModalOpen.msg}</Typography>\r\n\r\n\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { currentCity, openModal } from '../../../actions/index';\r\nimport ErrorModal from '../../ErrorModal/ErrorModal'\r\n\r\nimport { Paper, InputBase } from '@mui/material';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\n\r\nimport './SearchBar.css';\r\n\r\n//  \r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\nconst BASE_URL = 'https://dataservice.accuweather.com';\r\n\r\nexport default function SearchBar() {\r\n\r\n  const defaultCity = useSelector(state => state.currentCity);\r\n  const dispatch = useDispatch();\r\n  // Local state: searched string in input:\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  // let presentedString = \"\";\r\n\r\n  // For a searched city, fetches the API's key issued for the city, with which forecast will be fetched\r\n  const getCityKey = async () => {\r\n    try {\r\n      const city = {};\r\n      const searchResponse = await fetch(BASE_URL +\r\n        `/locations/v1/cities/autocomplete?apikey=${API_KEY}&q=${searchString}`);\r\n\r\n      const dsearchData = await searchResponse.json();\r\n      if (dsearchData !== []) {\r\n        city.name = dsearchData[0].LocalizedName;\r\n        city.key = dsearchData[0].Key;\r\n      }\r\n\r\n      return city;\r\n    } catch (e) {\r\n      dispatch(openModal(\"Something went wrong with the search... \\n Are you sure of your spelling?\"));\r\n    }\r\n  };\r\n\r\n\r\n  // API call for the actual weather (previous call is made for the city's key)\r\n  const getCityCurrentWeather = async (city) => {\r\n    try {\r\n      const weatherResponse = await fetch(BASE_URL +\r\n        `/currentconditions/v1/${city.key}?apikey=${API_KEY}&metric=true`);\r\n      const weatherData = await weatherResponse.json();\r\n\r\n      city.weather = weatherData[0].WeatherText;\r\n      city.temp = Math.round(weatherData[0].Temperature.Metric.Value);\r\n\r\n      dispatch(currentCity(city));\r\n    } catch (e) {\r\n      // Opens modal on error\r\n      dispatch(openModal(\"Something went wrong with the search... \\n Are you sure of your spelling?\"));\r\n    }\r\n  };\r\n\r\n\r\n  // Manages the API calls\r\n  const getCityInfo = async () => {\r\n    const city = await getCityKey();\r\n    await getCityCurrentWeather(city);\r\n  };\r\n\r\n\r\n  // Gets city's forecast on-load (used exclusively by the city default value)\r\n  useEffect(() => {\r\n    getCityCurrentWeather(defaultCity)\r\n  }, []);\r\n\r\n\r\n  // On-typing city's name query in input field\r\n  const typingString = (e) => {\r\n    let value = e.target.value;\r\n    const ascii = value.charCodeAt(value.length - 1);\r\n    //  Will only receive English alphabet OR space\r\n    if ((65 <= ascii && ascii <= 90) || (97 <= ascii && ascii <= 122) || ascii === 32) {\r\n    } else {\r\n      value = value.slice(0, -1);\r\n    }\r\n    setSearchString(value)\r\n  }\r\n\r\n\r\n  // Search event, by clicking the search button or pressing Enter\r\n  const keyPressed = async (e) => {\r\n    if (e.keyCode === 13 || e.type === 'click') {\r\n      e.preventDefault();\r\n      if (searchString !== '') {\r\n        getCityInfo(); // Calls for forecast\r\n        setSearchString('') // Resets search field\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Paper className=\"search-comp\" sx={{ width: '250px' }}>\r\n      <InputBase variant='filled' sx={{ width: '100%' }} className=\"search-input\" placeholder=\"Type a city's name...\" onChange={typingString} value={searchString} onKeyDown={keyPressed} color='primary' />\r\n      <IconButton sx={{ p: '10px' }} onClick={keyPressed}>\r\n        <SearchIcon />\r\n      </IconButton>\r\n      {/* {presentedString} */}\r\n      <ErrorModal />\r\n    </Paper >\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport './ForcastDay.css';\r\n\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nexport default function ForcastDay({ day }) {\r\n\r\n  // Dispaly-only component\r\n  return (\r\n    <Card className='forcast_card'>\r\n      <CardContent className=\"forcast-content\">\r\n        <Typography variant=\"h4\" className='day-details'>{day.dayOfWeek}</Typography>\r\n        <Typography variant=\"h5\" className='day-details temp'>\r\n          {day.maxTemp}\r\n          <span>&deg; -</span>\r\n          {day.minTemp}\r\n          <span>&deg;</span>\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { addFavorite, removeFavorite, openModal } from '../../../actions/index'\r\n\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport './LikesUnit.css';\r\n\r\nexport default function LikesUnit({ isCityDisplayed }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const currCity = useSelector(state => state.currentCity);\r\n  const savedFavs = useSelector(state => state.favorites);\r\n  // Checks if the displayed city was liked\r\n  const [isLiked, setIsLiked] = useState(savedFavs.findIndex(city => city.key === currCity.key) > -1);\r\n\r\n\r\n  useEffect(() => {\r\n    const didLikeChange = savedFavs.findIndex(city => city.key === currCity.key);\r\n    setIsLiked(didLikeChange > -1)\r\n  }, [currCity, isLiked])\r\n\r\n\r\n  // On clicking the like\\ un-like icon\r\n  const toggleLike = () => {\r\n    if (isLiked) {\r\n      dispatch(removeFavorite(currCity));\r\n    } else {\r\n      if (savedFavs.length === 10) { // Max of 10 liked cities\r\n        dispatch(openModal('One can only have so much love... 10 cities are plenty'))\r\n      } else {\r\n        dispatch(addFavorite(currCity));\r\n      }\r\n    }\r\n    setIsLiked(!isLiked);\r\n  }\r\n\r\n  if (!isCityDisplayed) return null; // If nothing was fetched from API (comes from props)\r\n\r\n  return (\r\n    <div className='like-unit-comp'>\r\n      {isLiked ? <FavoriteIcon sx={{ 'fontSize': '54px' }} className='heart-icon like' onClick={toggleLike} />\r\n        : <FavoriteBorderIcon sx={{ 'fontSize': '54px' }} className='heart-icon unlike' onClick={toggleLike} />}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Typography, Card, CardContent, Box } from '@mui/material';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport ForcastDay from '../ForcastDay/ForcastDay';\r\nimport LikesUnit from '../LikesUnit/LikesUnit'\r\nimport './WeatherDisplay.css';\r\nimport { openModal } from '../../../actions';\r\n\r\nconst DAY_OF_WEEK = [\r\n  'Sun',\r\n  'Mon',\r\n  'Tue',\r\n  'Wed',\r\n  'Thu',\r\n  'Fri',\r\n  'Sat'\r\n];\r\n\r\nconst SERVICE_URL = 'https://dataservice.accuweather.com';\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\n\r\nexport default function WeatherDisplay() {\r\n  const { currentTemp, currentWeather, name, key } = useSelector(state => state.currentCity);\r\n  const dispatch = useDispatch();\r\n  const [forecast, setForecast] = useState([]);\r\n\r\n  // FETCHES DATA AUTOMATICALLY ON LOAD. DEFAULT LOCATION: TEL-AVIV\r\n  useEffect(() => {\r\n    async function fetchForecast() {\r\n      try {\r\n        const forecastResponse = await fetch(SERVICE_URL +\r\n          `/forecasts/v1/daily/5day/${key}?apikey=${API_KEY}&metric=true`);\r\n        const forecastData = await forecastResponse.json();\r\n\r\n        const parsedForecast = forecastData.DailyForecasts.map(day => {\r\n          /*\r\n            Three values for each desplyed day on the forecast:\r\n              1) Day;  2) Max temp;  3) Min temp\r\n          */\r\n          return {\r\n            dayOfWeek: DAY_OF_WEEK[(new Date(day.Date)).getDay()],\r\n            maxTemp: Math.round(day.Temperature.Maximum.Value),\r\n            minTemp: Math.round(day.Temperature.Minimum.Value)\r\n          }\r\n        });\r\n        // Sets parsed data to state\r\n        setForecast(parsedForecast);\r\n      } catch (e) {\r\n        console.log('error in forecast')\r\n        // Opens dialog on error\r\n        dispatch(openModal('Something went wrong with fetching this city\\'s forecast... Just stay home!'))\r\n      }\r\n    }\r\n\r\n    // Calls (async) function from above\r\n    fetchForecast();\r\n  }, [name]);\r\n\r\n  return (\r\n    <Box className='weather-display'>\r\n      <div className='display-top'>\r\n        {currentTemp && <Card className='current-weather-card'>\r\n          <CardContent className=\"current-weather-content\">\r\n            <Typography variant='h5' className=\"current-weather-detail\">\r\n              {currentWeather}\r\n            </Typography>\r\n            <Typography variant='h5' className=\"current-weather-detail\">\r\n              {currentTemp}\r\n              <span>&deg;</span>\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>}\r\n        {currentTemp ?\r\n          <Typography className='city-name' variant='h3'>{name}</Typography>\r\n          : <Typography className='city-name city-err' variant='h3'>Sorry, something went wrong...</Typography>}\r\n        <LikesUnit className='city-like' isCityDisplayed={!!currentTemp} />\r\n      </div>\r\n      <div className='display-bottom'>\r\n        {\r\n          forecast.map((day, i) => {\r\n            return <ForcastDay key={day.dayOfWeek} day={day} />\r\n          })\r\n        }\r\n      </div>\r\n    </Box>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport SearchBar from '../SearchBar/SearchBar';\r\nimport WeatherDisplay from '../WeatherDisplay/WeatherDisplay';\r\nimport './Home.css';\r\n\r\nexport default function Home() {\r\n  return (\r\n    <main className='home-comp'>\r\n      <SearchBar className='search-in-home' />\r\n      <WeatherDisplay className='weather-display-in-home' />\r\n    </main>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { currentCity } from '../../../actions/index'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Card,\r\n  CardContent,\r\n  Typography\r\n} from '@mui/material';\r\n\r\nimport './Favorites.css';\r\n\r\nexport default function Favorites() {\r\n\r\n  const dispatch = useDispatch()\r\n  let history = useHistory();\r\n  const favedCities = useSelector(state => state.favorites);\r\n\r\n  const choseFavorite = (city) => {\r\n    const chosenCity = {\r\n      key: city.key,\r\n      name: city.name\r\n    };\r\n\r\n    dispatch(currentCity(chosenCity));\r\n    history.replace('/');\r\n  }\r\n  // NOTE: try to avoid creating a function on-click on <Card />\r\n  return (\r\n    <Box className='favorites-comp'>\r\n      <Paper className='favorites-group' sx={{ \"backgroundColor\": \"#f5f5f5\" }}>\r\n        {favedCities.map(city => {\r\n          return (\r\n            <Card key={city.name} value={city.key} onClick={() => choseFavorite(city)} className='faved-city-card'>\r\n              <CardContent className='faved-city-content'>\r\n                <Typography className='faved-city city-name' variant='h4'>{city.name}</Typography>\r\n                <Typography className='faved-city city-temp' variant='h5'>\r\n                  {city.currentTemp}\r\n                  <span>&deg;</span>\r\n                </Typography>\r\n                <Typography className='faved-city city-weather' variant='h5'>{city.currentWeather}</Typography>\r\n              </CardContent>\r\n            </Card>\r\n          )\r\n        })}\r\n      </Paper>\r\n    </Box>\r\n  )\r\n}\r\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport './App.css';\nimport Header from './Components/Header/Header';\nimport Home from './Components/MainComp/Home/Home';\nimport Favorites from \"./Components/FaveComp/Favorites/Favorites\";\n\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <Router basename={`${process.env.REACT_APP_BASE_URL}`}>\n        <Header className=\"app-header\" />\n\n        <Switch>\n          <Route exact path='/' component={Home} />\n          <Route exact path='/favorites' component={Favorites} />\n        </Switch>\n\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\nconst INITIAL_STATE = {\r\n  name: 'Tel Aviv',\r\n  key: '215854'\r\n}\r\n\r\n/*\r\n  Holds the city currently displayed.\r\n  Default city: Tel Aviv\r\n*/\r\n\r\nconst currentCityReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case 'SET_CURRENT_CITY':\r\n      return state = action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default currentCityReducer;","\r\n/*\r\n  Holds all the favored cities.\r\n  No default values.\r\n  WILL REFRESH on re-load\r\n*/\r\nconst favoritesReducer = (state = [], action) => {\r\n\r\n  switch (action.type) {\r\n    case 'ADD_FAVORITE':\r\n      if (state.every(city => city.key !== action.payload.key)) {\r\n        state.push(action.payload);\r\n      }\r\n      return state;\r\n    case 'REMOVE_FAVORITE':\r\n      const filteredState = state.filter(city => city.key !== action.payload.key);\r\n      return filteredState;\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport default favoritesReducer;","\r\nconst INITIAL_STATE = {\r\n  open: false,\r\n  msg: \"\"\r\n}\r\n\r\n/*\r\n  Holds modal's state.\r\n  Default state: close\r\n*/\r\n\r\nconst modalReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case \"OPEN_MODAL\":\r\n      return {\r\n        open: true,\r\n        msg: action.payload.msg\r\n      };\r\n    case \"CLOSE_MODAL\":\r\n      return {\r\n        open: false,\r\n        msg: \"\"\r\n      };\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport default modalReducer;","import currentCityReducer from './currentCity';\r\nimport favoritesReducer from './favorites';\r\nimport modalReducer from './modal';\r\n\r\nimport { combineReducers } from 'redux';\r\n\r\nconst rootReducer = combineReducers({\r\n  favorites: favoritesReducer,\r\n  currentCity: currentCityReducer,\r\n  modal: modalReducer\r\n})\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers/reducersIndex';\nimport { Provider } from 'react-redux';\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store} >\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n\n"],"sourceRoot":""}