(this["webpackJsonpkadabra-weather"]=this["webpackJsonpkadabra-weather"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(27),r=a.n(c),s=(a(90),a(44)),i=a(14),o=(a(91),a(9)),u=a(15),l=a(148),h=a(147),j=a(149),p=(a(96),a(2)),f="/symmetrical-eureka-weather-app";function m(){var e=Object(u.c)((function(e){return e.currentCity})),t=Object(i.f)(),a=Object(n.useState)(t.location.pathname),c=Object(o.a)(a,2),r=c[0],s=c[1];console.log(r),Object(n.useEffect)((function(){s(t.location.pathname)}),[e]);return Object(p.jsxs)("header",{className:"header-comp",children:[Object(p.jsx)(l.a,{variant:"h3",className:"logo",children:"So how's the weather?"}),Object(p.jsxs)(h.a,{className:"btn-group",color:"primary",value:"favorites"!==r?f:"".concat(f,"/favorites"),onChange:function(e){e.preventDefault();var a=e.target.value;s(a),"favorites"===a?t.replace(f+a):t.replace(f)},children:[Object(p.jsx)(j.a,{value:"/",className:"btn home-btn",disabled:"favorites"!==r,style:{fontSize:"20px"},children:"Home"}),Object(p.jsx)(j.a,{value:"favorites",className:"btn favorites-btn",disabled:"favorites"===r,style:{fontSize:"18px"},children:"Favorites"})]})]})}var d=a(24),b=a.n(d),y=a(34),O=function(e){return{type:"SET_CURRENT_CITY",payload:{name:e.name,key:e.key,currentWeather:e.weather,currentTemp:e.temp}}},v=function(e){return{type:"OPEN_MODAL",payload:{msg:e}}},x=a(143);a(103);function k(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.modal}));return Object(p.jsx)(x.a,{open:t.open,className:"actual-modal",onClose:function(){e({type:"CLOSE_MODAL"})},children:Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsx)(l.a,{variant:"h5",sx:{lineHeight:"190%",fontWeight:"600",fontSize:"26px"},children:t.msg})})})}var w=a(150),g=a(145),N=a(151),T=a(74),E=a.n(T),S=(a(104),"U21HLUzqUAASTSnfvQJK7jnIyBeVfzGA"),C="http://dataservice.accuweather.com";function _(){var e=Object(u.c)((function(e){return e.currentCity})),t=Object(u.b)(),a=Object(n.useState)(""),c=Object(o.a)(a,2),r=c[0],s=c[1],i=function(){var e=Object(y.a)(b.a.mark((function e(){var a,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={},e.next=4,fetch(C+"/locations/v1/cities/autocomplete?apikey=".concat(S,"&q=").concat(r));case 4:return n=e.sent,console.log(n),e.next=8,n.json();case 8:return(c=e.sent)!==[]&&(a.name=c[0].LocalizedName,a.key=c[0].Key),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(0),t(v("Something went wrong with the search... \n Are you sure of your spelling?"));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(y.a)(b.a.mark((function e(a){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(C+"/currentconditions/v1/".concat(a.key,"?apikey=").concat(S,"&metric=true"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,a.weather=c[0].WeatherText,a.temp=Math.round(c[0].Temperature.Metric.Value),t(O(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(v("Something went wrong with the search... \n Are you sure of your spelling?"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return t=e.sent,e.next=5,l(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){l(e)}),[]);var j=function(){var e=Object(y.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:13!==t.keyCode&&"click"!==t.type||(t.preventDefault(),""!==r&&(h(),s("")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(w.a,{className:"search-comp",sx:{width:"250px"},children:[Object(p.jsx)(g.a,{variant:"filled",sx:{width:"100%"},className:"search-input",placeholder:"Type a city's name...",onChange:function(e){var t=e.target.value,a=t.charCodeAt(t.length-1);65<=a&&a<=90||97<=a&&a<=122||32===a||(t=t.slice(0,-1)),s(t)},value:r,onKeyDown:j,color:"primary"}),Object(p.jsx)(N.a,{sx:{p:"10px"},onClick:j,children:Object(p.jsx)(E.a,{})}),"",Object(p.jsx)(k,{})]})}var D=a(154),A=a(152),I=a(153);a(105);function L(e){var t=e.day;return Object(p.jsx)(A.a,{className:"forcast_card",children:Object(p.jsxs)(I.a,{className:"forcast-content",children:[Object(p.jsx)(l.a,{variant:"h4",className:"day-details",children:t.dayOfWeek}),Object(p.jsxs)(l.a,{variant:"h5",className:"day-details temp",children:[t.maxTemp,Object(p.jsx)("span",{children:"\xb0"}),"-",t.minTemp,Object(p.jsx)("span",{children:"\xb0"})]})]})})}var M=a(75),V=a.n(M),R=a(76),F=a.n(R);a(106);function W(e){var t=e.isCityDisplayed,a=Object(u.b)(),c=Object(u.c)((function(e){return e.currentCity})),r=Object(u.c)((function(e){return e.favorites})),s=Object(n.useState)(r.findIndex((function(e){return e.key===c.key}))>-1),i=Object(o.a)(s,2),l=i[0],h=i[1];Object(n.useEffect)((function(){var e=r.findIndex((function(e){return e.key===c.key}));h(e>-1)}),[c,l]);var j=function(){var e;l?a({type:"REMOVE_FAVORITE",payload:{name:(e=c).name,key:e.key}}):10===r.length?a(v("One can only have so much love... 10 cities are plenty")):a(function(e){return{type:"ADD_FAVORITE",payload:{name:e.name,key:e.key,currentWeather:e.currentWeather,currentTemp:e.currentTemp}}}(c)),h(!l)};return t?Object(p.jsx)("div",{className:"like-unit-comp",children:l?Object(p.jsx)(V.a,{sx:{fontSize:"54px"},className:"heart-icon like",onClick:j}):Object(p.jsx)(F.a,{sx:{fontSize:"54px"},className:"heart-icon unlike",onClick:j})}):null}a(107);var z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U="http://dataservice.accuweather.com",J="U21HLUzqUAASTSnfvQJK7jnIyBeVfzGA";function B(){var e=Object(u.c)((function(e){return e.currentCity})),t=e.currentTemp,a=e.currentWeather,c=e.name,r=e.key,s=Object(u.b)(),i=Object(n.useState)([]),h=Object(o.a)(i,2),j=h[0],f=h[1];return Object(n.useEffect)((function(){function e(){return(e=Object(y.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(U+"/forecasts/v1/daily/5day/".concat(r,"?apikey=").concat(J,"&metric=true"));case 3:return t=e.sent,console.log(t),e.next=7,t.json();case 7:a=e.sent,console.log(a),n=a.DailyForecasts.map((function(e){return{dayOfWeek:z[new Date(e.Date).getDay()],maxTemp:Math.round(e.Temperature.Maximum.Value),minTemp:Math.round(e.Temperature.Minimum.Value)}})),f(n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error in forecast"),s(v("Something went wrong with fetching this city's forecast... Just stay home!"));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(p.jsxs)(D.a,{className:"weather-display",children:[Object(p.jsxs)("div",{className:"display-top",children:[t&&Object(p.jsx)(A.a,{className:"current-weather-card",children:Object(p.jsxs)(I.a,{className:"current-weather-content",children:[Object(p.jsx)(l.a,{variant:"h5",className:"current-weather-detail",children:a}),Object(p.jsxs)(l.a,{variant:"h5",className:"current-weather-detail",children:[t,Object(p.jsx)("span",{children:"\xb0"})]})]})}),t?Object(p.jsx)(l.a,{className:"city-name",variant:"h3",children:c}):Object(p.jsx)(l.a,{className:"city-name city-err",variant:"h3",children:"Sorry, something went wrong..."}),Object(p.jsx)(W,{className:"city-like",isCityDisplayed:!!t})]}),Object(p.jsx)("div",{className:"display-bottom",children:j.map((function(e,t){return Object(p.jsx)(L,{day:e},e.dayOfWeek)}))})]})}a(108);function H(){return Object(p.jsxs)("main",{className:"home-comp",children:[Object(p.jsx)(_,{className:"search-in-home"}),Object(p.jsx)(B,{className:"weather-display-in-home"})]})}a(109);function K(){var e=Object(u.b)(),t=Object(i.f)(),a=Object(u.c)((function(e){return e.favorites}));return Object(p.jsx)(D.a,{className:"favorites-comp",children:Object(p.jsx)(w.a,{className:"favorites-group",sx:{backgroundColor:"#f5f5f5"},children:a.map((function(a){return Object(p.jsx)(A.a,{value:a.key,onClick:function(){return function(a){var n={key:a.key,name:a.name};e(O(n)),t.replace("/")}(a)},className:"faved-city-card",children:Object(p.jsxs)(I.a,{className:"faved-city-content",children:[Object(p.jsx)(l.a,{className:"faved-city city-name",variant:"h4",children:a.name}),Object(p.jsxs)(l.a,{className:"faved-city city-temp",variant:"h5",children:[a.currentTemp,Object(p.jsx)("span",{children:"\xb0"})]}),Object(p.jsx)(l.a,{className:"faved-city city-weather",variant:"h5",children:a.currentWeather})]})},a.name)}))})})}var P=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(s.a,{children:[Object(p.jsx)(m,{className:"app-header"}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/symmetrical-eureka-weather-app",component:H}),Object(p.jsx)(i.a,{exact:!0,path:"/symmetrical-eureka-weather-app/favorites",component:K})]})]})})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,155)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},q=a(50),G={name:"Tel Aviv",key:"215854"},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_CITY"===t.type?t.payload:e},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return e.every((function(e){return e.key!==t.payload.key}))&&e.push(t.payload),e;case"REMOVE_FAVORITE":var a=e.filter((function(e){return e.key!==t.payload.key}));return a;default:return e}},Z={open:!1,msg:""},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return{open:!0,msg:t.payload.msg};case"CLOSE_MODAL":return{open:!1,msg:""};default:return e}},ee=Object(q.a)({favorites:Y,currentCity:Q,modal:$}),te=Object(q.b)(ee,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(p.jsx)(u.a,{store:te,children:Object(p.jsx)(P,{})}),document.getElementById("root")),X()},90:function(e,t,a){},91:function(e,t,a){},96:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.8cca86bf.chunk.js.map